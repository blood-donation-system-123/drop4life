<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DROP4Life — Register Donor</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f6f7fb;color:#222;margin:0;padding:0}
    header{background:#c62828;color:#fff;padding:20px;text-align:center}
    .container{max-width:980px;margin:24px auto;padding:16px}
    footer{text-align:center;padding:12px;color:#666}
    nav{background:#b30000;padding:12px;text-align:center}
    nav a{color:#fff;margin:0 12px;text-decoration:none;font-size:16px}
    nav a:hover{opacity:0.9}
  </style>
</head>
<body>

  <!-- Updated Navigation (only working links) -->
  <nav>
    <a href="main.html">Home</a>
    <a href="donor.html">Register Donor</a>
  </nav>

  <header>
    <h1>DROP4Life — Register Donor</h1>
    <div>Fill your details to become a donor (demo)</div>
  </header>

  <main class="container">
    <div class="card p-3">
      <h2>Register as Donor</h2>
      <form id="donorForm">
        <div class="mb-3">
          <label for="donorName" class="form-label">Name</label>
          <input id="donorName" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="donorBlood" class="form-label">Blood Group</label>
          <select id="donorBlood" class="form-select" required>
            <option value="">Select</option>
            <option>A+</option><option>A-</option><option>B+</option><option>B-</option>
            <option>O+</option><option>O-</option><option>AB+</option><option>AB-</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="donorCity" class="form-label">City</label>
          <input id="donorCity" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="donorContact" class="form-label">Contact</label>
          <input id="donorContact" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="donorAvail" class="form-label">Availability</label>
          <select id="donorAvail" class="form-select" required>
            <option value="available">Available</option>
            <option value="unavailable">Unavailable</option>
          </select>
        </div>
        <button type="submit" class="btn btn-danger w-100">Register Donor</button>
      </form>
    </div>

    <div class="mt-4">
      <a href="main.html" class="btn btn-outline-secondary">Back to Home</a>
    </div>
  </main>

  <footer>Demo: data kept locally in your browser. For production, use a server & database.</footer>

  <script>
    const DONOR_KEY = 'drop4life_donors';
    const uid = ()=>Date.now().toString(36)+Math.random().toString(36).slice(2,6);
    const load = (k)=> JSON.parse(localStorage.getItem(k)||'[]');
    const save = (k,v)=> localStorage.setItem(k, JSON.stringify(v));

    document.getElementById('donorForm').addEventListener('submit', e=>{
      e.preventDefault();
      const d = { id:uid(),
        name:document.getElementById('donorName').value.trim(),
        blood:document.getElementById('donorBlood').value,
        city:document.getElementById('donorCity').value.trim().toLowerCase(),
        contact:document.getElementById('donorContact').value.trim(),
        avail:document.getElementById('donorAvail').value
      };
      const arr = load(DONOR_KEY); 
      arr.push(d); 
      save(DONOR_KEY,arr);
      alert('Donor saved (demo)');
      e.target.reset();
    });
  </script>
</body>
</html>
